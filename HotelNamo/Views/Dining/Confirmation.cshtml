@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}


@model TableReservation
@{
    ViewData["Title"] = "Reservation Confirmation";
    Layout = "_UserLayout";
}

<link rel="stylesheet" href="~/css/home-style.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

<style>
    .confirmation-section {
        font-family: 'Raleway', sans-serif;
        padding: 60px 0;
        background-color: #f8f9fa;
    }

    .confirmation-header {
        text-align: center;
        margin-bottom: 40px;
    }

    .section-title {
        font-size: 18px;
        color: #b29674;
        letter-spacing: 2px;
        text-transform: uppercase;
        margin-bottom: 10px;
    }

    .main-title {
        font-family: 'Playfair Display', serif;
        font-size: 42px;
        font-weight: bold;
        color: #333;
        margin-bottom: 15px;
    }

    .confirmation-subtitle {
        font-size: 18px;
        color: #666;
        max-width: 700px;
        margin: 0 auto;
    }

    .confirmation-card {
        background-color: white;
        border-radius: 15px;
        padding: 40px;
        box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        margin-bottom: 30px;
    }

    .confirmation-card-header {
        text-align: center;
        margin-bottom: 30px;
        padding-bottom: 20px;
        border-bottom: 1px solid #f0f0f0;
    }

    .confirmation-card-title {
        font-family: 'Playfair Display', serif;
        font-size: 24px;
        margin-bottom: 10px;
        color: #333;
        font-weight: 600;
    }

    .confirmation-number {
        font-size: 16px;
        color: #b29674;
        font-weight: 600;
    }

    .confirmation-detail {
        display: flex;
        align-items: center;
        margin-bottom: 20px;
    }

    .detail-icon {
        width: 40px;
        height: 40px;
        background-color: #f8f8f8;
        border-radius: 10px;
        display: flex;
        justify-content: center;
        align-items: center;
        margin-right: 15px;
        color: #b29674;
    }

    .detail-content {
        flex: 1;
    }

    .detail-label {
        font-size: 14px;
        color: #888;
        margin-bottom: 5px;
    }

    .detail-value {
        font-size: 16px;
        font-weight: 600;
        color: #333;
    }

    .table-detail {
        background-color: #f9f5f0;
        border-radius: 12px;
        padding: 20px;
        margin: 30px 0;
    }

    .table-title {
        font-size: 18px;
        font-weight: 600;
        color: #333;
        margin-bottom: 15px;
    }

    .table-info {
        display: flex;
        align-items: center;
    }

    .table-icon {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        background-color: #b29674;
        color: white;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 20px;
        margin-right: 20px;
    }

    .table-number {
        font-size: 24px;
        font-weight: bold;
    }

    .table-description {
        margin-left: 10px;
        flex: 1;
    }

    .table-location {
        font-size: 16px;
        font-weight: 600;
        color: #333;
    }

    .table-note {
        font-size: 14px;
        color: #888;
        margin-top: 5px;
    }

    .btn-container {
        text-align: center;
        margin-top: 20px;
        display: flex;
        gap: 15px;
    }

    .btn-primary {
        background-color: #b29674;
        color: white;
        padding: 12px 30px;
        font-size: 16px;
        border-radius: 50px;
        border: none;
        text-transform: uppercase;
        letter-spacing: 1px;
        flex: 1;
        box-shadow: 0 5px 15px rgba(178, 150, 116, 0.3);
        transition: all 0.3s ease;
    }

        .btn-primary:hover {
            background-color: #a38563;
            box-shadow: 0 8px 20px rgba(178, 150, 116, 0.4);
        }

    .btn-outline {
        background-color: transparent;
        color: #b29674;
        border: 2px solid #b29674;
        padding: 12px 30px;
        font-size: 16px;
        border-radius: 50px;
        text-transform: uppercase;
        letter-spacing: 1px;
        flex: 1;
        transition: all 0.3s ease;
    }

        .btn-outline:hover {
            background-color: #f9f5f0;
        }

    .qr-code {
        text-align: center;
        margin: 30px 0;
    }

        .qr-code img {
            max-width: 150px;
            height: auto;
        }

    .qr-note {
        font-size: 14px;
        color: #888;
        margin-top: 10px;
    }

    /* Responsive styles */
    @@ media (max-width: 768px) {
        .confirmation-card

    {
        padding: 25px;
    }

    .main-title {
        font-size: 32px;
    }

    .btn-container {
        flex-direction: column;
    }

    }
</style>

<div class="confirmation-section">
    <div class="container">
        <div class="confirmation-header">
            <h3 class="section-title">Thank You</h3>
            <h1 class="main-title">Reservation Confirmed</h1>
            <p class="confirmation-subtitle">Your table has been successfully reserved. We look forward to welcoming you to our restaurant.</p>
        </div>

        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="confirmation-card">
                    <div class="confirmation-card-header">
                        <h2 class="confirmation-card-title">Dining Reservation Details</h2>
                        <div class="confirmation-number">Confirmation # @Model.Id.ToString("D6")</div>
                    </div>

                    <div class="row">
                        <div class="col-md-6">
                            <div class="confirmation-detail">
                                <div class="detail-icon">
                                    <i class="fas fa-user"></i>
                                </div>
                                <div class="detail-content">
                                    <div class="detail-label">Guest Name</div>
                                    <div class="detail-value">@Model.FullName</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="confirmation-detail">
                                <div class="detail-icon">
                                    <i class="fas fa-users"></i>
                                </div>
                                <div class="detail-content">
                                    <div class="detail-label">Number of Guests</div>
                                    <div class="detail-value">@Model.NumberOfGuests @(Model.NumberOfGuests == 1 ? "Person" : "People")</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-6">
                            <div class="confirmation-detail">
                                <div class="detail-icon">
                                    <i class="fas fa-calendar-alt"></i>
                                </div>
                                <div class="detail-content">
                                    <div class="detail-label">Date</div>
                                    <div class="detail-value">@Model.ReservationDate.ToString("dddd, MMMM d, yyyy")</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="confirmation-detail">
                                <div class="detail-icon">
                                    <i class="fas fa-clock"></i>
                                </div>
                                <div class="detail-content">
                                    <div class="detail-label">Time</div>
                                    <div class="detail-value">@DateTime.Parse(Model.ReservationTime).ToString("h:mm tt")</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="confirmation-detail">
                        <div class="detail-icon">
                            <i class="fas fa-utensils"></i>
                        </div>
                        <div class="detail-content">
                            <div class="detail-label">Venue</div>
                            <div class="detail-value">@Model.Venue</div>
                        </div>
                    </div>

                    <div class="table-detail">
                        <div class="table-title">Your Reserved Table</div>
                        <div class="table-info">
                            <div class="table-icon">
                                <span class="table-number">@Model.TableNumber</span>
                            </div>
                            <div class="table-description">
                                <div class="table-location">
                                    @{
                                        var tableDescription = "Standard Table";

                                        // Example logic to determine if it's a window table
                                        var tableNumber = int.Parse(Model.TableNumber);
                                        var isWindowTable = false;

                                        if (Model.Venue == "The Grand Restaurant" && (tableNumber == 4 || tableNumber == 9 || tableNumber == 14 || tableNumber == 19))
                                            isWindowTable = true;
                                        else if (Model.Venue == "Jazz Lounge" && (tableNumber == 3 || tableNumber == 7 || tableNumber == 11))
                                            isWindowTable = true;
                                        else if (Model.Venue == "Rooftop Terrace" && (tableNumber <= 5 || tableNumber == 9 || tableNumber == 10 || tableNumber == 14))
                                            isWindowTable = true;

                                        if (isWindowTable)
                                            tableDescription = "Window View Table";

                                        // Special tables near jazz band
                                        if (Model.Venue == "Jazz Lounge" && (tableNumber == 5 || tableNumber == 6))
                                            tableDescription = "Premium Table (Near Jazz Band)";
                                    }

                                    @tableDescription
                                </div>
                                <div class="table-note">
                                    @if (Model.SpecialRequests != null && Model.SpecialRequests.Trim().Length > 0)
                                    {
                                        <strong>Special Requests:</strong> @Model.SpecialRequests
                                    }
                                    else
                                    {
                                        <span>Please arrive 10 minutes before your reservation time.</span>
                                    }
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="qr-code">
                        <img src="https://api.qrserver.com/v1/create-qr-code/?data=HotelNamoRes@(Model.Id.ToString("D6"))&size=150x150" alt="Reservation QR Code" />
                        <div class="qr-note">Show this QR code upon arrival at the restaurant</div>
                    </div>

                    <div class="btn-container">
                        <a href="/Dining/MyReservations" class="btn btn-outline">
                            <i class="fas fa-calendar me-2"></i> My Reservations
                        </a>
                        <a href="#" onclick="window.print(); return false;" class="btn btn-primary">
                            <i class="fas fa-print me-2"></i> Print Confirmation
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>